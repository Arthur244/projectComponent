{"remainingRequest":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js!/Users/xujunjie/Documents/git/projectComponent/src/confirmButton/ConfirmButton.tsx","dependencies":[{"path":"/Users/xujunjie/Documents/git/projectComponent/src/confirmButton/ConfirmButton.tsx","mtime":1594367130785},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/cache-loader/dist/cjs.js","mtime":1609062632110},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js","mtime":1609062632658},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609062558293},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js","mtime":1609062632650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnRkL2VzL2J1dHRvbi9zdHlsZS9jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJhbnRkL2VzL2J1dHRvbiI7CmltcG9ydCAiYW50ZC9lcy9tb2RhbC9zdHlsZS9jc3MiOwppbXBvcnQgX01vZGFsIGZyb20gImFudGQvZXMvbW9kYWwiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CnZhciBfanN4RmlsZU5hbWUgPSAiL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9zcmMvY29uZmlybUJ1dHRvbi9Db25maXJtQnV0dG9uLnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0ICcuL0NvbmZpcm1CdXR0b24ubGVzcyc7Cgp2YXIgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTsKCi8qKgogKiDnoa7orqTmjInpkq4KICovCnZhciBDb25maXJtQnV0dG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKENvbmZpcm1CdXR0b24sIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENvbmZpcm1CdXR0b24pOwoKICBmdW5jdGlvbiBDb25maXJtQnV0dG9uKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpcm1CdXR0b24pOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX3RoaXMuY2xpY2tIYW5kbGVyID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBvbkNvbmZpcm0sIGlzQ29uZmlybTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBvbkNvbmZpcm0gPSBfdGhpcy5wcm9wcy5vbkNvbmZpcm07CiAgICAgICAgICAgICAgaXNDb25maXJtID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbGlkYXRlKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgaXNDb25maXJtID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGlzQ29uZmlybSAmJiBvbkNvbmZpcm0pIHsKICAgICAgICAgICAgICAgIG9uQ29uZmlybSgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29uZmlybUJ1dHRvbiwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLAogICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wcy5zdHlsZTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcygnQ29uZmlybUJ1dHRvbicsIGNsYXNzTmFtZSksCiAgICAgICAgc3R5bGU6IHN0eWxlLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xpY2tIYW5kbGVyLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDY0LAogICAgICAgICAgY29sdW1uTnVtYmVyOiA3CiAgICAgICAgfQogICAgICB9LCB0aGlzLmdldENoaWxkcmVuKCkpOwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZhbGlkYXRlID0gdGhpcy5wcm9wcy52YWxpZGF0ZTsKCiAgICAgIGlmICh2YWxpZGF0ZSkgewogICAgICAgIHJldHVybiB2YWxpZGF0ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWxpZGF0ZSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVmYXVsdFZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VmFsaWRhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgdmFyIG1vZGFsQ29udGVudCA9IF90aGlzMi5wcm9wcy5tb2RhbENvbnRlbnQ7CgogICAgICAgIF9Nb2RhbC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiBtb2RhbENvbnRlbnQgPyBtb2RhbENvbnRlbnQudGl0bGUgOiAn5pON5L2c5LiN5Y+v5oGi5aSNJywKICAgICAgICAgIGNvbnRlbnQ6IG1vZGFsQ29udGVudCA/IG1vZGFsQ29udGVudC5jb250ZW50IDogJ+atpOaTjeS9nOS4jeWPr+aBouWkje+8jOivt+ehruiupOaYr+WQpue7p+e7rScsCiAgICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkgewogICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgfSwKICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHsKICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENoaWxkcmVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZHJlbigpIHsKICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLnN0YXRlLmxvYWRpbmc7CiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgZ2V0RWxlbWVudCA9IF90aGlzJHByb3BzMi5nZXRFbGVtZW50LAogICAgICAgICAgdGV4dCA9IF90aGlzJHByb3BzMi50ZXh0OwoKICAgICAgaWYgKGdldEVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0RWxlbWVudChsb2FkaW5nKTsKICAgICAgfQoKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9CdXR0b24sIHsKICAgICAgICBkYW5nZXI6IHRydWUsCiAgICAgICAgZ2hvc3Q6IHRydWUsCiAgICAgICAgbG9hZGluZzogbG9hZGluZywKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAxMTgsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDcKICAgICAgICB9CiAgICAgIH0sIHRleHQgfHwgJ+WIoOmZpCcpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsIiwKICAgIC8vIEB0cy1pZ25vcmUKICAgIHZhbHVlOiBmdW5jdGlvbiBfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbChrZXksIGNvZGUpIHsKICAgICAgLy8gQHRzLWlnbm9yZQogICAgICB0aGlzW2tleV0gPSBldmFsKGNvZGUpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbmZpcm1CdXR0b247Cn0oQ29tcG9uZW50KTsKCnZhciBfZGVmYXVsdCA9IENvbmZpcm1CdXR0b247CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0OwoKaWYgKHR5cGVvZiBDb25maXJtQnV0dG9uICE9PSAndW5kZWZpbmVkJyAmJiBDb25maXJtQnV0dG9uICYmIENvbmZpcm1CdXR0b24gPT09IE9iamVjdChDb25maXJtQnV0dG9uKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKENvbmZpcm1CdXR0b24pKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbmZpcm1CdXR0b24sICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJDb25maXJtQnV0dG9uIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvY29uZmlybUJ1dHRvbi9Db25maXJtQnV0dG9uLnRzeCIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoQ29uZmlybUJ1dHRvbiwgIkNvbmZpcm1CdXR0b24iLCAiL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9zcmMvY29uZmlybUJ1dHRvbi9Db25maXJtQnV0dG9uLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9jb25maXJtQnV0dG9uL0NvbmZpcm1CdXR0b24udHN4Iik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/xujunjie/Documents/git/projectComponent/src/confirmButton/ConfirmButton.tsx"],"names":["React","Component","classnames","require","ConfirmButton","props","clickHandler","onConfirm","isConfirm","setState","loading","validate","state","className","style","getChildren","defaultValidate","Promise","resolve","modalContent","confirm","title","content","onOk","onCancel","getElement","text"],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAA4C,OAA5C;AAEA,OAAO,sBAAP;;AAEA,IAAMC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AA4CA;AACA;AACA;IACMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAwC;AAAA;;AAAA;;AACtC,8BAAMA,KAAN;AADsC,UAoBhCC,YApBgC,yEAoBjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,cAAAA,SADa,GACC,MAAKF,KADN,CACbE,SADa;AAEjBC,cAAAA,SAFiB,GAEL,KAFK;;AAIrB,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAE;AAAX,eAAd;;AAJqB;AAAA,qBAKH,MAAKC,QAAL,EALG;;AAAA;AAKrBH,cAAAA,SALqB;;AAMrB,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAE;AAAX,eAAd;;AACA,kBAAIF,SAAS,IAAID,SAAjB,EAA4B;AAC1BA,gBAAAA,SAAS;AACV;;AAToB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApBiB;AAEtC,UAAKK,KAAL,GAAa;AACXF,MAAAA,OAAO,EAAE;AADE,KAAb;AAFsC;AAKvC;;;;6BAE0B;AAAA,wBACI,KAAKL,KADT;AAAA,UACjBQ,SADiB,eACjBA,SADiB;AAAA,UACNC,KADM,eACNA,KADM;AAEzB,0BACE;AACE,QAAA,SAAS,EAAEZ,UAAU,CAAC,eAAD,EAAkBW,SAAlB,CADvB;AAEE,QAAA,KAAK,EAAEC,KAFT;AAGE,QAAA,OAAO,EAAE,KAAKR,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG,KAAKS,WAAL,EALH,CADF;AASD;;;+BAckB;AAAA,UACTJ,QADS,GACI,KAAKN,KADT,CACTM,QADS;;AAEjB,UAAIA,QAAJ,EAAc;AACZ,eAAOA,QAAQ,EAAf;AACD,OAFD,MAEO;AACL,eAAO,KAAKK,eAAL,EAAP;AACD;AACF;;;sCAE2C;AAAA;;AAC1C,aAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAAA,YACpBC,YADoB,GACH,MAAI,CAACd,KADF,CACpBc,YADoB;;AAE5B,eAAMC,OAAN,CAAc;AACZC,UAAAA,KAAK,EAAEF,YAAY,GAAGA,YAAY,CAACE,KAAhB,GAAwB,QAD/B;AAEZC,UAAAA,OAAO,EAAEH,YAAY,GAAGA,YAAY,CAACG,OAAhB,GAA0B,iBAFnC;AAGZC,UAAAA,IAAI,EAAE,gBAAM;AACVL,YAAAA,OAAO,CAAC,IAAD,CAAP;AACD,WALW;AAMZM,UAAAA,QAAQ,EAAE,oBAAM;AACdN,YAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AARW,SAAd;AAUD,OAZM,CAAP;AAaD;;;kCAEqB;AAAA,UACZR,OADY,GACA,KAAKE,KADL,CACZF,OADY;AAAA,yBAES,KAAKL,KAFd;AAAA,UAEZoB,UAFY,gBAEZA,UAFY;AAAA,UAEAC,IAFA,gBAEAA,IAFA;;AAGpB,UAAID,UAAJ,EAAgB;AACd,eAAOA,UAAU,CAACf,OAAD,CAAjB;AACD;;AACD,0BACE;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,KAAK,MAApB;AAAqB,QAAA,OAAO,EAAEA,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGgB,IAAI,IAAI,IADX,CADF;AAKD;;;;;;;;;;;EArEyBzB,S;;eAwEbG,a;AAAf;;;;;;;;;;;;;;;;;;;;;;0BAxEMA,a","sourcesContent":["import { Button, Modal } from 'antd';\nimport React, { Component, ReactNode } from 'react';\nimport IComponentProps from '../interfaces/IComponentProps';\nimport './ConfirmButton.less';\n\nconst classnames = require('classnames');\n\ninterface IConfirmButtonState {\n  loading: boolean;\n}\ninterface IConfirmButtonProps extends IComponentProps {\n  /**\n   * 确认成功后，触发的事件\n   */\n  onConfirm?: () => void;\n\n  /**\n   * 是否确认的方法，默认为弹窗并由用户选择。\n   *\n   * 自定义验证函数须返回 Promise<boolean>，为true时，表示确认\n   */\n  validate?: () => Promise<boolean>;\n\n  /**\n   * 显示的元素\n   */\n  getElement?: (loading: boolean) => ReactNode;\n\n  /**\n   * 按钮上的文字\n   */\n  text?: string;\n\n  /**\n   * 如果使用默认的弹窗验证方式，且需要自定义文字，可使用此属性\n   */\n  modalContent?: {\n    /**\n     * 弹窗标题\n     */\n    title: string;\n\n    /**\n     * 弹窗内容\n     */\n    content: string | ReactNode;\n  };\n}\n\n/**\n * 确认按钮\n */\nclass ConfirmButton extends Component<IConfirmButtonProps, IConfirmButtonState> {\n  constructor(props: IConfirmButtonProps) {\n    super(props);\n    this.state = {\n      loading: false,\n    };\n  }\n\n  public render(): ReactNode {\n    const { className, style } = this.props;\n    return (\n      <span\n        className={classnames('ConfirmButton', className)}\n        style={style}\n        onClick={this.clickHandler}\n      >\n        {this.getChildren()}\n      </span>\n    );\n  }\n\n  private clickHandler = async () => {\n    const { onConfirm } = this.props;\n    let isConfirm = false;\n\n    this.setState({ loading: true });\n    isConfirm = await this.validate();\n    this.setState({ loading: false });\n    if (isConfirm && onConfirm) {\n      onConfirm();\n    }\n  };\n\n  private validate() {\n    const { validate } = this.props;\n    if (validate) {\n      return validate();\n    } else {\n      return this.defaultValidate();\n    }\n  }\n\n  private defaultValidate(): Promise<boolean> {\n    return new Promise(resolve => {\n      const { modalContent } = this.props;\n      Modal.confirm({\n        title: modalContent ? modalContent.title : '操作不可恢复',\n        content: modalContent ? modalContent.content : '此操作不可恢复，请确认是否继续',\n        onOk: () => {\n          resolve(true);\n        },\n        onCancel: () => {\n          resolve(false);\n        },\n      });\n    });\n  }\n\n  private getChildren() {\n    const { loading } = this.state;\n    const { getElement, text } = this.props;\n    if (getElement) {\n      return getElement(loading);\n    }\n    return (\n      <Button danger ghost loading={loading}>\n        {text || '删除'}\n      </Button>\n    );\n  }\n}\n\nexport default ConfirmButton;\n"]}]}