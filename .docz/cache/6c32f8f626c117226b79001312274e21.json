{"remainingRequest":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js!/Users/xujunjie/Documents/git/projectComponent/src/IdCardInput/IdCardInput.tsx","dependencies":[{"path":"/Users/xujunjie/Documents/git/projectComponent/src/IdCardInput/IdCardInput.tsx","mtime":1594367130783},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/cache-loader/dist/cjs.js","mtime":1609062632110},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js","mtime":1609062632658},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609062558293},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js","mtime":1609062632650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ImFudGQvZXMvaW5wdXQvc3R5bGUvY3NzIjtpbXBvcnQgX0lucHV0IGZyb20iYW50ZC9lcy9pbnB1dCI7aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjtpbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20iL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiO2ltcG9ydCBfaW5oZXJpdHMgZnJvbSIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7aW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjtpbXBvcnQgbG9kYXNoIGZyb20nbG9kYXNoJztpbXBvcnQgUmVhY3Qse0NvbXBvbmVudH1mcm9tJ3JlYWN0Jzt2YXIgSWRDYXJkPXJlcXVpcmUoJ2lkY2FyZCcpO3ZhciBjbGFzc25hbWVzPXJlcXVpcmUoJ2NsYXNzbmFtZXMnKTt2YXIgSWRDYXJkSW5wdXQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Db21wb25lbnQpe19pbmhlcml0cyhJZENhcmRJbnB1dCxfQ29tcG9uZW50KTt2YXIgX3N1cGVyPV9jcmVhdGVTdXBlcihJZENhcmRJbnB1dCk7ZnVuY3Rpb24gSWRDYXJkSW5wdXQoKXt2YXIgX3RoaXM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSWRDYXJkSW5wdXQpO2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9bmV3IEFycmF5KF9sZW4pLF9rZXk9MDtfa2V5PF9sZW47X2tleSsrKXthcmdzW19rZXldPWFyZ3VtZW50c1tfa2V5XTt9X3RoaXM9X3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLFt0aGlzXS5jb25jYXQoYXJncykpO190aGlzLnN0YXRlPXt2YWx1ZTpfdGhpcy5wcm9wcy52YWx1ZX07X3RoaXMuc2V0SWRDYXJkSW5mbz1mdW5jdGlvbih2YWx1ZSl7dmFyIG9uU3VjY2Vzcz1fdGhpcy5wcm9wcy5vblN1Y2Nlc3M7aWYodmFsdWUmJklkQ2FyZC52ZXJpZnkodmFsdWUpKXt2YXIgaW5mbz1JZENhcmQuaW5mbyh2YWx1ZSk7b25TdWNjZXNzKGluZm8pO31lbHNle29uU3VjY2Vzcyh7cHJvdmluY2U6e30sY2l0eTp7fSxhcmVhOnt9fSk7fX07X3RoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIGlkQ2FyZD1lLnRhcmdldC52YWx1ZTt2YXIgb25DaGFuZ2U9X3RoaXMucHJvcHMub25DaGFuZ2U7X3RoaXMuc2V0U3RhdGUoe3ZhbHVlOmlkQ2FyZH0sZnVuY3Rpb24oKXtfdGhpcy5zZXRJZENhcmRJbmZvKGlkQ2FyZCk7fSk7aWYob25DaGFuZ2Upe29uQ2hhbmdlKGlkQ2FyZCk7fX07cmV0dXJuIF90aGlzO31fY3JlYXRlQ2xhc3MoSWRDYXJkSW5wdXQsW3trZXk6ImNvbXBvbmVudERpZE1vdW50Iix2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpe3ZhciB2YWx1ZT10aGlzLnByb3BzLnZhbHVlO3RoaXMuc2V0SWRDYXJkSW5mbyh2YWx1ZSk7fX0se2tleToiY29tcG9uZW50RGlkVXBkYXRlIix2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKXtpZighbG9kYXNoLmlzRXF1YWwodGhpcy5wcm9wcy52YWx1ZSxwcmV2UHJvcHMudmFsdWUpKXt2YXIgX3ZhbHVlPXRoaXMucHJvcHMudmFsdWU7dGhpcy5zZXRTdGF0ZSh7dmFsdWU6X3ZhbHVlfSk7dGhpcy5zZXRJZENhcmRJbmZvKF92YWx1ZSk7fX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIF90aGlzJHByb3BzPXRoaXMucHJvcHMsY2xhc3NOYW1lPV90aGlzJHByb3BzLmNsYXNzTmFtZSxzdHlsZT1fdGhpcyRwcm9wcy5zdHlsZTtyZXR1cm4vKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIse2NsYXNzTmFtZTpjbGFzc25hbWVzKCdJZENhcmRJbnB1dCcsY2xhc3NOYW1lKSxzdHlsZTpzdHlsZX0sLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0lucHV0LHtvbkNoYW5nZTp0aGlzLm9uQ2hhbmdlLHZhbHVlOnRoaXMuc3RhdGUudmFsdWV9KSk7fX1dKTtyZXR1cm4gSWRDYXJkSW5wdXQ7fShDb21wb25lbnQpO2V4cG9ydCBkZWZhdWx0IElkQ2FyZElucHV0O2lmKHR5cGVvZiBJZENhcmRJbnB1dCE9PSd1bmRlZmluZWQnJiZJZENhcmRJbnB1dCYmSWRDYXJkSW5wdXQ9PT1PYmplY3QoSWRDYXJkSW5wdXQpJiZPYmplY3QuaXNFeHRlbnNpYmxlKElkQ2FyZElucHV0KSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KElkQ2FyZElucHV0LCdfX2ZpbGVtZXRhJyx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHZhbHVlOntuYW1lOiJJZENhcmRJbnB1dCIsZmlsZW5hbWU6InNyYy9JZENhcmRJbnB1dC9JZENhcmRJbnB1dC50c3gifX0pO30="},{"version":3,"sources":["/Users/xujunjie/Documents/git/projectComponent/src/IdCardInput/IdCardInput.tsx"],"names":["lodash","React","Component","IdCard","require","classnames","IdCardInput","state","value","props","setIdCardInfo","onSuccess","verify","info","province","city","area","onChange","e","idCard","target","setState","prevProps","isEqual","className","style"],"mappings":"ssBACA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAA4C,OAA5C,CAGA,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAAC,QAAD,CAAtB,CACA,GAAMC,CAAAA,UAAU,CAAGD,OAAO,CAAC,YAAD,CAA1B,C,GAkBME,CAAAA,W,+UACJC,K,CAA2B,CACzBC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KADO,C,OAkB3BE,a,CAAgB,SAACF,KAAD,CAAgB,IACtBG,CAAAA,SADsB,CACR,MAAKF,KADG,CACtBE,SADsB,CAE9B,GAAIH,KAAK,EAAIL,MAAM,CAACS,MAAP,CAAcJ,KAAd,CAAb,CAAmC,CACjC,GAAMK,CAAAA,IAAI,CAAGV,MAAM,CAACU,IAAP,CAAYL,KAAZ,CAAb,CACAG,SAAS,CAACE,IAAD,CAAT,CACD,CAHD,IAGO,CACLF,SAAS,CAAC,CACRG,QAAQ,CAAE,EADF,CAERC,IAAI,CAAE,EAFE,CAGRC,IAAI,CAAE,EAHE,CAAD,CAAT,CAKD,CACF,C,OAEDC,Q,CAAW,SAACC,CAAD,CAAmC,CAC5C,GAAMC,CAAAA,MAAM,CAAGD,CAAC,CAACE,MAAF,CAASZ,KAAxB,CAD4C,GAEpCS,CAAAA,QAFoC,CAEvB,MAAKR,KAFkB,CAEpCQ,QAFoC,CAG5C,MAAKI,QAAL,CACE,CACEb,KAAK,CAAEW,MADT,CADF,CAIE,UAAM,CACJ,MAAKT,aAAL,CAAmBS,MAAnB,EACD,CANH,EAQA,GAAIF,QAAJ,CAAc,CACZA,QAAQ,CAACE,MAAD,CAAR,CACD,CACF,C,oGA3CmB,IACVX,CAAAA,KADU,CACA,KAAKC,KADL,CACVD,KADU,CAElB,KAAKE,aAAL,CAAmBF,KAAnB,EACD,C,8DAEkBc,S,CAA8B,CAC/C,GAAI,CAACtB,MAAM,CAACuB,OAAP,CAAe,KAAKd,KAAL,CAAWD,KAA1B,CAAiCc,SAAS,CAACd,KAA3C,CAAL,CAAwD,IAC9CA,CAAAA,MAD8C,CACpC,KAAKC,KAD+B,CAC9CD,KAD8C,CAEtD,KAAKa,QAAL,CAAc,CACZb,KAAK,CAALA,MADY,CAAd,EAGA,KAAKE,aAAL,CAAmBF,MAAnB,EACD,CACF,C,uCAgC0B,iBACI,KAAKC,KADT,CACjBe,SADiB,aACjBA,SADiB,CACNC,KADM,aACNA,KADM,CAEzB,mBACE,4BAAM,SAAS,CAAEpB,UAAU,CAAC,aAAD,CAAgBmB,SAAhB,CAA3B,CAAuD,KAAK,CAAEC,KAA9D,eACE,4BAAO,QAAQ,CAAE,KAAKR,QAAtB,CAAgC,KAAK,CAAE,KAAKV,KAAL,CAAWC,KAAlD,EADF,CADF,CAKD,C,yBAxDuBN,S,EA2D1B,cAAeI,CAAAA,WAAf,C","sourcesContent":["import { Input } from 'antd';\nimport lodash from 'lodash';\nimport React, { Component, ReactNode } from 'react';\nimport IComponentProps from '../interfaces/IComponentProps';\n\nconst IdCard = require('idcard');\nconst classnames = require('classnames');\n\ninterface IIdCardInputState {\n  value: any;\n}\ninterface IIdCardInputProps extends IComponentProps {\n  /**\n   * 身份证初始值\n   */\n  value?: string;\n  /**\n   * 输入正确身份证后的回调\n   */\n  onSuccess: (values: any) => void;\n\n  onChange: (value: any) => void;\n}\n\nclass IdCardInput extends Component<IIdCardInputProps, IIdCardInputState> {\n  state: IIdCardInputState = {\n    value: this.props.value,\n  };\n  componentDidMount() {\n    const { value } = this.props;\n    this.setIdCardInfo(value);\n  }\n\n  componentDidUpdate(prevProps: IIdCardInputProps) {\n    if (!lodash.isEqual(this.props.value, prevProps.value)) {\n      const { value } = this.props;\n      this.setState({\n        value,\n      });\n      this.setIdCardInfo(value);\n    }\n  }\n\n  setIdCardInfo = (value: any) => {\n    const { onSuccess } = this.props;\n    if (value && IdCard.verify(value)) {\n      const info = IdCard.info(value);\n      onSuccess(info);\n    } else {\n      onSuccess({\n        province: {},\n        city: {},\n        area: {},\n      });\n    }\n  };\n\n  onChange = (e: { target: { value: any } }) => {\n    const idCard = e.target.value;\n    const { onChange } = this.props;\n    this.setState(\n      {\n        value: idCard,\n      },\n      () => {\n        this.setIdCardInfo(idCard);\n      },\n    );\n    if (onChange) {\n      onChange(idCard);\n    }\n  };\n\n  public render(): ReactNode {\n    const { className, style } = this.props;\n    return (\n      <span className={classnames('IdCardInput', className)} style={style}>\n        <Input onChange={this.onChange} value={this.state.value} />\n      </span>\n    );\n  }\n}\n\nexport default IdCardInput;\n"]}]}