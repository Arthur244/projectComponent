{"remainingRequest":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js!/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx","dependencies":[{"path":"/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx","mtime":1594367130796},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/cache-loader/dist/cjs.js","mtime":1609062632110},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js","mtime":1609062632658},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609062558293},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js","mtime":1609062632650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ImFudGQvZXMvZm9ybS9zdHlsZS9jc3MiO2ltcG9ydCBfRm9ybSBmcm9tImFudGQvZXMvZm9ybSI7aW1wb3J0ImFudGQvZXMvaW5wdXQvc3R5bGUvY3NzIjtpbXBvcnQgX0lucHV0IGZyb20iYW50ZC9lcy9pbnB1dCI7aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjtpbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20iL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiO2ltcG9ydCBfaW5oZXJpdHMgZnJvbSIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7aW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjtpbXBvcnQgUmVhY3Qse0NvbXBvbmVudH1mcm9tJ3JlYWN0JztpbXBvcnQgRm9ybVJlZ0V4cCBmcm9tJy4uL2VudW1zL0Zvcm1SZWdFeHAnO3ZhciBJZENhcmQ9cmVxdWlyZSgnaWRjYXJkJyk7dmFyIGNsYXNzbmFtZXM9cmVxdWlyZSgnY2xhc3NuYW1lcycpO3ZhciBJZENhcmRGb3JtSXRlbT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0NvbXBvbmVudCl7X2luaGVyaXRzKElkQ2FyZEZvcm1JdGVtLF9Db21wb25lbnQpO3ZhciBfc3VwZXI9X2NyZWF0ZVN1cGVyKElkQ2FyZEZvcm1JdGVtKTtmdW5jdGlvbiBJZENhcmRGb3JtSXRlbSgpe3ZhciBfdGhpcztfY2xhc3NDYWxsQ2hlY2sodGhpcyxJZENhcmRGb3JtSXRlbSk7Zm9yKHZhciBfbGVuPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1uZXcgQXJyYXkoX2xlbiksX2tleT0wO19rZXk8X2xlbjtfa2V5Kyspe2FyZ3NbX2tleV09YXJndW1lbnRzW19rZXldO31fdGhpcz1fc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsW3RoaXNdLmNvbmNhdChhcmdzKSk7X3RoaXMuZ2V0SWRDYXJkPWZ1bmN0aW9uKHR5cGUpe3ZhciBpZENhcmQ9Rm9ybVJlZ0V4cC5JRENBUkQ7c3dpdGNoKHR5cGUpe2Nhc2UgMTppZENhcmQ9Rm9ybVJlZ0V4cC5JRENBUkQ7YnJlYWs7Y2FzZSAyOmlkQ2FyZD1Gb3JtUmVnRXhwLkhLX0lEQ0FSRDticmVhaztjYXNlIDM6aWRDYXJkPUZvcm1SZWdFeHAuVFdfSURDQVJEO2JyZWFrO2RlZmF1bHQ6YnJlYWs7fXJldHVybiBpZENhcmQ7fTtfdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgaWRDYXJkPWUudGFyZ2V0LnZhbHVlO2lmKGlkQ2FyZCYmSWRDYXJkLnZlcmlmeShpZENhcmQpKXt2YXIgaW5mbz1JZENhcmQuaW5mbyhpZENhcmQpO3ZhciBvblN1Y2Nlc3M9X3RoaXMucHJvcHMub25TdWNjZXNzO2lmKG9uU3VjY2Vzcyl7b25TdWNjZXNzKGluZm8pO319fTtyZXR1cm4gX3RoaXM7fV9jcmVhdGVDbGFzcyhJZENhcmRGb3JtSXRlbSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbiByZW5kZXIoKXt2YXIgX3RoaXMkcHJvcHM9dGhpcy5wcm9wcyxmcm9tSXRlbVByb3BzPV90aGlzJHByb3BzLmZyb21JdGVtUHJvcHMsY2xhc3NOYW1lPV90aGlzJHByb3BzLmNsYXNzTmFtZSxyZXF1aXJlZD1fdGhpcyRwcm9wcy5yZXF1aXJlZCxpZENhcmRUeXBlPV90aGlzJHByb3BzLmlkQ2FyZFR5cGUsc3R5bGU9X3RoaXMkcHJvcHMuc3R5bGUsbmFtZT1fdGhpcyRwcm9wcy5uYW1lLGxhYmVsPV90aGlzJHByb3BzLmxhYmVsLGVtcHR5TXNnPV90aGlzJHByb3BzLmVtcHR5TXNnLGVyck1zZz1fdGhpcyRwcm9wcy5lcnJNc2c7cmV0dXJuLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0Zvcm0uSXRlbSxPYmplY3QuYXNzaWduKHtjbGFzc05hbWU6Y2xhc3NuYW1lcygnaWRDYXJkLWZyb20nLGNsYXNzTmFtZSksc3R5bGU6c3R5bGV9LHRoaXMucHJvcHMsZnJvbUl0ZW1Qcm9wcyx7bmFtZTpuYW1lLGxhYmVsOmxhYmVsLHJ1bGVzOlt7cmVxdWlyZWQ6cmVxdWlyZWQsbWVzc2FnZTplbXB0eU1zZ3x8J+ivt+Whq+WGmei6q+S7veivgeWPt+eggSd9LHtwYXR0ZXJuOnRoaXMuZ2V0SWRDYXJkKGlkQ2FyZFR5cGUpLG1lc3NhZ2U6ZXJyTXNnfHwn6Lqr5Lu96K+B5Y+356CB5qC85byP5LiN5q2j56GuJ31dfSksLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0lucHV0LHtvbkNoYW5nZTp0aGlzLm9uQ2hhbmdlfSkpO319XSk7cmV0dXJuIElkQ2FyZEZvcm1JdGVtO30oQ29tcG9uZW50KTtleHBvcnQgZGVmYXVsdCBJZENhcmRGb3JtSXRlbTtpZih0eXBlb2YgSWRDYXJkRm9ybUl0ZW0hPT0ndW5kZWZpbmVkJyYmSWRDYXJkRm9ybUl0ZW0mJklkQ2FyZEZvcm1JdGVtPT09T2JqZWN0KElkQ2FyZEZvcm1JdGVtKSYmT2JqZWN0LmlzRXh0ZW5zaWJsZShJZENhcmRGb3JtSXRlbSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShJZENhcmRGb3JtSXRlbSwnX19maWxlbWV0YScse2VudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZSx2YWx1ZTp7bmFtZToiSWRDYXJkRm9ybUl0ZW0iLGZpbGVuYW1lOiJzcmMvZm9ybXMvSWRDYXJkRm9ybUl0ZW0udHN4In19KTt9"},{"version":3,"sources":["/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx"],"names":["React","Component","FormRegExp","IdCard","require","classnames","IdCardFormItem","getIdCard","type","idCard","IDCARD","HK_IDCARD","TW_IDCARD","onChange","e","target","value","verify","info","onSuccess","props","fromItemProps","className","required","idCardType","style","name","label","emptyMsg","errMsg","message","pattern"],"mappings":"qwBAEA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAA4C,OAA5C,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CAEA,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAAC,QAAD,CAAtB,CACA,GAAMC,CAAAA,UAAU,CAAGD,OAAO,CAAC,YAAD,CAA1B,C,GAqCME,CAAAA,c,2VACIC,S,CAAY,SAACC,IAAD,CAA8B,CAChD,GAAIC,CAAAA,MAAM,CAAGP,UAAU,CAACQ,MAAxB,CACA,OAAQF,IAAR,EACE,IAAK,EAAL,CACEC,MAAM,CAAGP,UAAU,CAACQ,MAApB,CACA,MACF,IAAK,EAAL,CACED,MAAM,CAAGP,UAAU,CAACS,SAApB,CACA,MACF,IAAK,EAAL,CACEF,MAAM,CAAGP,UAAU,CAACU,SAApB,CACA,MACF,QACE,MAXJ,CAaA,MAAOH,CAAAA,MAAP,CACD,C,OAEOI,Q,CAAW,SAACC,CAAD,CAAmC,CACpD,GAAML,CAAAA,MAAM,CAAGK,CAAC,CAACC,MAAF,CAASC,KAAxB,CACA,GAAIP,MAAM,EAAIN,MAAM,CAACc,MAAP,CAAcR,MAAd,CAAd,CAAqC,CACnC,GAAMS,CAAAA,IAAI,CAAGf,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAb,CADmC,GAE3BU,CAAAA,SAF2B,CAEb,MAAKC,KAFQ,CAE3BD,SAF2B,CAGnC,GAAIA,SAAJ,CAAe,CACbA,SAAS,CAACD,IAAD,CAAT,CACD,CACF,CACF,C,iFAE0B,iBAWrB,KAAKE,KAXgB,CAEvBC,aAFuB,aAEvBA,aAFuB,CAGvBC,SAHuB,aAGvBA,SAHuB,CAIvBC,QAJuB,aAIvBA,QAJuB,CAKvBC,UALuB,aAKvBA,UALuB,CAMvBC,KANuB,aAMvBA,KANuB,CAOvBC,IAPuB,aAOvBA,IAPuB,CAQvBC,KARuB,aAQvBA,KARuB,CASvBC,QATuB,aASvBA,QATuB,CAUvBC,MAVuB,aAUvBA,MAVuB,CAYzB,mBACE,0BAAM,IAAN,gBACE,SAAS,CAAExB,UAAU,CAAC,aAAD,CAAgBiB,SAAhB,CADvB,CAEE,KAAK,CAAEG,KAFT,EAGM,KAAKL,KAHX,CAIMC,aAJN,EAKE,IAAI,CAAEK,IALR,CAME,KAAK,CAAEC,KANT,CAOE,KAAK,CAAE,CACL,CACEJ,QAAQ,CAARA,QADF,CAEEO,OAAO,CAAEF,QAAQ,EAAI,UAFvB,CADK,CAKL,CACEG,OAAO,CAAE,KAAKxB,SAAL,CAAeiB,UAAf,CADX,CAEEM,OAAO,CAAED,MAAM,EAAI,YAFrB,CALK,CAPT,gBAkBE,4BAAO,QAAQ,CAAE,KAAKhB,QAAtB,EAlBF,CADF,CAsBD,C,4BAhE0BZ,S,EAmE7B,cAAeK,CAAAA,cAAf,C","sourcesContent":["import { Form, Input } from 'antd';\nimport { FormItemProps } from 'antd/lib/form';\nimport React, { Component, ReactNode } from 'react';\nimport FormRegExp from '../enums/FormRegExp';\nimport IComponentProps from '../interfaces/IComponentProps';\nconst IdCard = require('idcard');\nconst classnames = require('classnames');\n\ninterface IIdCardFormItemProps extends IComponentProps {\n  /**\n   * key值\n   */\n  name: string;\n  /**\n   * 名称\n   */\n  label?: string;\n  /**\n   * 是否必填\n   */\n  required?: boolean;\n  /**\n   * Form.Item属性设置\n   */\n  fromItemProps?: FormItemProps;\n  /**\n   * 身份证校验通过，信息回调\n   */\n  onSuccess?: (values: any) => void;\n  /**\n   * 身份证类型，1.大陆身份证，2.港澳身份证，3.台湾身份证\n   */\n  idCardType?: 1 | 2 | 3;\n  /**\n   * 必填校验错误信息\n   */\n  emptyMsg?: string;\n  /**\n   * 身份证号码格式校验错误信息\n   */\n  errMsg?: string;\n}\n\nclass IdCardFormItem extends Component<IIdCardFormItemProps, any> {\n  private getIdCard = (type: number | undefined) => {\n    let idCard = FormRegExp.IDCARD;\n    switch (type) {\n      case 1:\n        idCard = FormRegExp.IDCARD;\n        break;\n      case 2:\n        idCard = FormRegExp.HK_IDCARD;\n        break;\n      case 3:\n        idCard = FormRegExp.TW_IDCARD;\n        break;\n      default:\n        break;\n    }\n    return idCard;\n  };\n\n  private onChange = (e: { target: { value: any } }) => {\n    const idCard = e.target.value;\n    if (idCard && IdCard.verify(idCard)) {\n      const info = IdCard.info(idCard);\n      const { onSuccess } = this.props;\n      if (onSuccess) {\n        onSuccess(info);\n      }\n    }\n  };\n\n  public render(): ReactNode {\n    const {\n      fromItemProps,\n      className,\n      required,\n      idCardType,\n      style,\n      name,\n      label,\n      emptyMsg,\n      errMsg,\n    } = this.props;\n    return (\n      <Form.Item\n        className={classnames('idCard-from', className)}\n        style={style}\n        {...this.props}\n        {...fromItemProps}\n        name={name}\n        label={label}\n        rules={[\n          {\n            required,\n            message: emptyMsg || '请填写身份证号码',\n          },\n          {\n            pattern: this.getIdCard(idCardType),\n            message: errMsg || '身份证号码格式不正确',\n          },\n        ]}\n      >\n        <Input onChange={this.onChange} />\n      </Form.Item>\n    );\n  }\n}\n\nexport default IdCardFormItem;\n"]}]}