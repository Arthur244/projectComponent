{"remainingRequest":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js!/Users/xujunjie/Documents/git/projectComponent/src/editModal/EditModal.tsx","dependencies":[{"path":"/Users/xujunjie/Documents/git/projectComponent/src/editModal/EditModal.tsx","mtime":1611498285596},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/cache-loader/dist/cjs.js","mtime":1609062632110},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js","mtime":1609062632658},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609062558293},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js","mtime":1609062632650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnRkL2VzL21vZGFsL3N0eWxlL2NzcyI7CmltcG9ydCBfTW9kYWwgZnJvbSAiYW50ZC9lcy9tb2RhbCI7CmltcG9ydCAiYW50ZC9lcy9idXR0b24vc3R5bGUvY3NzIjsKaW1wb3J0IF9CdXR0b24gZnJvbSAiYW50ZC9lcy9idXR0b24iOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9lZGl0TW9kYWwvRWRpdE1vZGFsLnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEVkaXRGb3JtIGZyb20gJy4uL2VkaXRGb3JtL0VkaXRGb3JtJzsKCnZhciBFZGl0TW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRWRpdE1vZGFsLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFZGl0TW9kYWwpOwoKICBmdW5jdGlvbiBFZGl0TW9kYWwocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdE1vZGFsKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF90aGlzLmVkaXRGb3JtID0gbnVsbDsKCiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGNsb3NlID0gX3RoaXMucHJvcHMuY2xvc2U7CgogICAgICBpZiAoY2xvc2UpIHsKICAgICAgICBjbG9zZSgpOwogICAgICB9CiAgICB9OwoKICAgIF90aGlzLnN0YXRlID0gewogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhFZGl0TW9kYWwsIFt7CiAgICBrZXk6ICJyZW5kZXJUaXRsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVGl0bGUoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBlZGl0Rm9ybVByb3BzID0gX3RoaXMkcHJvcHMuZWRpdEZvcm1Qcm9wcywKICAgICAgICAgIHJlbmRlclRpdGxlID0gX3RoaXMkcHJvcHMucmVuZGVyVGl0bGU7CgogICAgICBpZiAocmVuZGVyVGl0bGUpIHsKICAgICAgICByZXR1cm4gcmVuZGVyVGl0bGUoKTsKICAgICAgfQoKICAgICAgdmFyIHNvdXJjZSA9IGVkaXRGb3JtUHJvcHMuc291cmNlLAogICAgICAgICAgdXBkYXRlRnVuY3Rpb24gPSBlZGl0Rm9ybVByb3BzLnVwZGF0ZUZ1bmN0aW9uOwoKICAgICAgaWYgKCFzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJ+aWsOWinic7CiAgICAgIH0gZWxzZSBpZiAoIXVwZGF0ZUZ1bmN0aW9uKSB7CiAgICAgICAgcmV0dXJuICfmn6XnnIsnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAn57yW6L6RJzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckZvb3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRm9vdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBsb2FkaW5nID0gdGhpcy5zdGF0ZS5sb2FkaW5nOwoKICAgICAgaWYgKHRoaXMucmVhZE9ubHkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfQnV0dG9uLCB7CiAgICAgICAgZGlzYWJsZWQ6IGxvYWRpbmcsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmIChfdGhpczIuZWRpdEZvcm0pIHsKICAgICAgICAgICAgX3RoaXMyLmVkaXRGb3JtLmNhbmNlbCgpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogODEsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDkKICAgICAgICB9CiAgICAgIH0sICJcdTUzRDZcdTZEODgiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0J1dHRvbiwgewogICAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICBpZiAoX3RoaXMyLmVkaXRGb3JtKSB7CiAgICAgICAgICAgIF90aGlzMi5lZGl0Rm9ybS5zdWJtaXQoKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDkxLAogICAgICAgICAgY29sdW1uTnVtYmVyOiA5CiAgICAgICAgfQogICAgICB9LCAiXHU0RkREXHU1QjU4IikpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgdmlzaWJsZSA9IF90aGlzJHByb3BzMi52aXNpYmxlLAogICAgICAgICAgZWRpdEZvcm1Qcm9wcyA9IF90aGlzJHByb3BzMi5lZGl0Rm9ybVByb3BzLAogICAgICAgICAgbW9kYWxQcm9wcyA9IF90aGlzJHByb3BzMi5tb2RhbFByb3BzLAogICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSwKICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMyLnN0eWxlOwogICAgICB2YXIgX29uT2sgPSBlZGl0Rm9ybVByb3BzLm9uT2s7CiAgICAgIHZhciBsb2FkaW5nID0gdGhpcy5zdGF0ZS5sb2FkaW5nOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX01vZGFsLCBPYmplY3QuYXNzaWduKHsKICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSwKICAgICAgICBzdHlsZTogc3R5bGUsCiAgICAgICAgbWFza0Nsb3NhYmxlOiAhbG9hZGluZwogICAgICB9LCBtb2RhbFByb3BzLCB7CiAgICAgICAgdGl0bGU6IHRoaXMucmVuZGVyVGl0bGUoKSwKICAgICAgICBkZXN0cm95T25DbG9zZTogdHJ1ZSwKICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLAogICAgICAgIGZvb3RlcjogdGhpcy5yZW5kZXJGb290ZXIoKSwKICAgICAgICBvbkNhbmNlbDogdGhpcy5jbG9zZSwKICAgICAgICBjbG9zYWJsZTogIWxvYWRpbmcsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTExLAogICAgICAgICAgY29sdW1uTnVtYmVyOiA3CiAgICAgICAgfQogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdEZvcm0sIE9iamVjdC5hc3NpZ24oewogICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHRhcmdldCkgewogICAgICAgICAgaWYgKF90aGlzMy5lZGl0Rm9ybSAhPT0gdGFyZ2V0KSB7CiAgICAgICAgICAgIF90aGlzMy5lZGl0Rm9ybSA9IHRhcmdldDsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uTG9hZGluZ0NoYW5nZTogZnVuY3Rpb24gb25Mb2FkaW5nQ2hhbmdlKGxvYWRpbmcpIHsKICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIGxvYWRpbmc6IGxvYWRpbmcKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGlkZUNvbnRyb2xzOiB0cnVlCiAgICAgIH0sIGVkaXRGb3JtUHJvcHMsIHsKICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7CiAgICAgICAgICBfdGhpczMuY2xvc2UoKTsKCiAgICAgICAgICBpZiAoZWRpdEZvcm1Qcm9wcy5vbkNhbmNlbCkgewogICAgICAgICAgICBlZGl0Rm9ybVByb3BzLm9uQ2FuY2VsKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkgewogICAgICAgICAgX3RoaXMzLmNsb3NlKCk7CgogICAgICAgICAgaWYgKF9vbk9rKSB7CiAgICAgICAgICAgIF9vbk9rKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAxMjMsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDkKICAgICAgICB9CiAgICAgIH0pKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVhZE9ubHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBlZGl0Rm9ybVByb3BzID0gdGhpcy5wcm9wcy5lZGl0Rm9ybVByb3BzOwogICAgICB2YXIgc291cmNlID0gZWRpdEZvcm1Qcm9wcy5zb3VyY2UsCiAgICAgICAgICB1cGRhdGVGdW5jdGlvbiA9IGVkaXRGb3JtUHJvcHMudXBkYXRlRnVuY3Rpb247CiAgICAgIHJldHVybiBzb3VyY2UgJiYgIXVwZGF0ZUZ1bmN0aW9uOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEVkaXRNb2RhbDsKfShDb21wb25lbnQpOwoKdmFyIF9kZWZhdWx0ID0gRWRpdE1vZGFsOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgRWRpdE1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBFZGl0TW9kYWwgJiYgRWRpdE1vZGFsID09PSBPYmplY3QoRWRpdE1vZGFsKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKEVkaXRNb2RhbCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWRpdE1vZGFsLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiRWRpdE1vZGFsIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvZWRpdE1vZGFsL0VkaXRNb2RhbC50c3giCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKEVkaXRNb2RhbCwgIkVkaXRNb2RhbCIsICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9lZGl0TW9kYWwvRWRpdE1vZGFsLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9lZGl0TW9kYWwvRWRpdE1vZGFsLnRzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/xujunjie/Documents/git/projectComponent/src/editModal/EditModal.tsx"],"names":["React","Component","EditForm","EditModal","props","editForm","close","state","loading","editFormProps","renderTitle","source","updateFunction","readOnly","cancel","submit","visible","modalProps","className","style","onOk","renderFooter","target","setState","onCancel"],"mappings":"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","sourcesContent":["import { Button, Modal } from 'antd';\nimport { Store } from 'antd/lib/form/interface';\nimport { ModalProps } from 'antd/lib/modal';\nimport React, { Component, ReactNode } from 'react';\nimport EditForm, { IEditFormProps } from '../editForm/EditForm';\nimport IComponentProps from '../interfaces/IComponentProps';\n\ninterface IEditModalState {\n  loading: boolean;\n}\ninterface IEditModalProps<T> extends IComponentProps {\n  /**\n   * 窗口显示还是隐藏\n   */\n  visible: boolean;\n\n  /**\n   * 关闭Modal的方法，一般是外层页面的`setState({visibleModal: false})`\n   */\n  close: () => void;\n\n  /**\n   * 透传给EditForm的props\n   */\n  editFormProps: IEditFormProps<T>;\n\n  /**\n   * 透传给Modal的props\n   */\n  modalProps?: ModalProps;\n\n  /**\n   * 自定义渲染标题的方法\n   */\n  renderTitle?: () => ReactNode;\n}\n\nclass EditModal<T extends Store> extends Component<IEditModalProps<T>, IEditModalState> {\n  private editForm: EditForm<T> | null = null;\n\n  constructor(props: IEditModalProps<T>) {\n    super(props);\n    this.state = { loading: false };\n  }\n\n  private close = () => {\n    const { close } = this.props;\n    if (close) {\n      close();\n    }\n  };\n\n  private renderTitle() {\n    const { editFormProps, renderTitle } = this.props;\n    if (renderTitle) {\n      return renderTitle();\n    }\n    const { source, updateFunction } = editFormProps;\n    if (!source) {\n      return '新增';\n    } else if (!updateFunction) {\n      return '查看';\n    } else {\n      return '编辑';\n    }\n  }\n\n  private get readOnly() {\n    const { editFormProps } = this.props;\n    const { source, updateFunction } = editFormProps;\n    return source && !updateFunction;\n  }\n\n  private renderFooter() {\n    const { loading } = this.state;\n    if (this.readOnly) {\n      return null;\n    }\n    return (\n      <>\n        <Button\n          disabled={loading}\n          onClick={() => {\n            if (this.editForm) {\n              this.editForm.cancel();\n            }\n          }}\n        >\n          取消\n        </Button>\n        <Button\n          loading={loading}\n          type=\"primary\"\n          onClick={() => {\n            if (this.editForm) {\n              this.editForm.submit();\n            }\n          }}\n        >\n          保存\n        </Button>\n      </>\n    );\n  }\n\n  public render(): ReactNode {\n    const { visible, editFormProps, modalProps, className, style } = this.props;\n    const { onOk } = editFormProps;\n    const { loading } = this.state;\n    return (\n      <Modal\n        className={className}\n        style={style}\n        maskClosable={!loading}\n        {...modalProps}\n        title={this.renderTitle()}\n        destroyOnClose\n        visible={visible}\n        footer={this.renderFooter()}\n        onCancel={this.close}\n        closable={!loading}\n      >\n        <EditForm\n          ref={target => {\n            if (this.editForm !== target) {\n              this.editForm = target;\n            }\n          }}\n          onLoadingChange={loading => {\n            this.setState({ loading });\n          }}\n          hideControls\n          {...editFormProps}\n          onCancel={() => {\n            this.close();\n            if (editFormProps.onCancel) {\n              editFormProps.onCancel();\n            }\n          }}\n          onOk={() => {\n            this.close();\n            if (onOk) {\n              onOk();\n            }\n          }}\n        />\n      </Modal>\n    );\n  }\n}\n\nexport default EditModal;\n"]}]}