{"remainingRequest":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js!/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx","dependencies":[{"path":"/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx","mtime":1594367130796},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/cache-loader/dist/cjs.js","mtime":1609062632110},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/thread-loader/dist/cjs.js","mtime":1609062632658},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609062558293},{"path":"/Users/xujunjie/Documents/git/projectComponent/node_modules/source-map-loader/index.js","mtime":1609062632650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnRkL2VzL2Zvcm0vc3R5bGUvY3NzIjsKaW1wb3J0IF9Gb3JtIGZyb20gImFudGQvZXMvZm9ybSI7CmltcG9ydCAiYW50ZC9lcy9pbnB1dC9zdHlsZS9jc3MiOwppbXBvcnQgX0lucHV0IGZyb20gImFudGQvZXMvaW5wdXQiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3h1anVuamllL0RvY3VtZW50cy9naXQvcHJvamVjdENvbXBvbmVudC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9mb3Jtcy9JZENhcmRGb3JtSXRlbS50c3giOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBGb3JtUmVnRXhwIGZyb20gJy4uL2VudW1zL0Zvcm1SZWdFeHAnOwoKdmFyIElkQ2FyZCA9IHJlcXVpcmUoJ2lkY2FyZCcpOwoKdmFyIGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7Cgp2YXIgSWRDYXJkRm9ybUl0ZW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoSWRDYXJkRm9ybUl0ZW0sIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKElkQ2FyZEZvcm1JdGVtKTsKCiAgZnVuY3Rpb24gSWRDYXJkRm9ybUl0ZW0oKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElkQ2FyZEZvcm1JdGVtKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX3RoaXMuZ2V0SWRDYXJkID0gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgdmFyIGlkQ2FyZCA9IEZvcm1SZWdFeHAuSURDQVJEOwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgaWRDYXJkID0gRm9ybVJlZ0V4cC5JRENBUkQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgaWRDYXJkID0gRm9ybVJlZ0V4cC5IS19JRENBUkQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgaWRDYXJkID0gRm9ybVJlZ0V4cC5UV19JRENBUkQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXR1cm4gaWRDYXJkOwogICAgfTsKCiAgICBfdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBpZENhcmQgPSBlLnRhcmdldC52YWx1ZTsKCiAgICAgIGlmIChpZENhcmQgJiYgSWRDYXJkLnZlcmlmeShpZENhcmQpKSB7CiAgICAgICAgdmFyIGluZm8gPSBJZENhcmQuaW5mbyhpZENhcmQpOwogICAgICAgIHZhciBvblN1Y2Nlc3MgPSBfdGhpcy5wcm9wcy5vblN1Y2Nlc3M7CgogICAgICAgIGlmIChvblN1Y2Nlc3MpIHsKICAgICAgICAgIG9uU3VjY2VzcyhpbmZvKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKElkQ2FyZEZvcm1JdGVtLCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBmcm9tSXRlbVByb3BzID0gX3RoaXMkcHJvcHMuZnJvbUl0ZW1Qcm9wcywKICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzLmNsYXNzTmFtZSwKICAgICAgICAgIHJlcXVpcmVkID0gX3RoaXMkcHJvcHMucmVxdWlyZWQsCiAgICAgICAgICBpZENhcmRUeXBlID0gX3RoaXMkcHJvcHMuaWRDYXJkVHlwZSwKICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMuc3R5bGUsCiAgICAgICAgICBuYW1lID0gX3RoaXMkcHJvcHMubmFtZSwKICAgICAgICAgIGxhYmVsID0gX3RoaXMkcHJvcHMubGFiZWwsCiAgICAgICAgICBlbXB0eU1zZyA9IF90aGlzJHByb3BzLmVtcHR5TXNnLAogICAgICAgICAgZXJyTXNnID0gX3RoaXMkcHJvcHMuZXJyTXNnOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0Zvcm0uSXRlbSwgT2JqZWN0LmFzc2lnbih7CiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdpZENhcmQtZnJvbScsIGNsYXNzTmFtZSksCiAgICAgICAgc3R5bGU6IHN0eWxlCiAgICAgIH0sIHRoaXMucHJvcHMsIGZyb21JdGVtUHJvcHMsIHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICBydWxlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgICAgIG1lc3NhZ2U6IGVtcHR5TXNnIHx8ICfor7floavlhpnouqvku73or4Hlj7fnoIEnCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogdGhpcy5nZXRJZENhcmQoaWRDYXJkVHlwZSksCiAgICAgICAgICBtZXNzYWdlOiBlcnJNc2cgfHwgJ+i6q+S7veivgeWPt+eggeagvOW8j+S4jeato+ehricKICAgICAgICB9XSwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA4NywKICAgICAgICAgIGNvbHVtbk51bWJlcjogNwogICAgICAgIH0KICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9JbnB1dCwgewogICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDEwNSwKICAgICAgICAgIGNvbHVtbk51bWJlcjogOQogICAgICAgIH0KICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsIiwKICAgIC8vIEB0cy1pZ25vcmUKICAgIHZhbHVlOiBmdW5jdGlvbiBfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbChrZXksIGNvZGUpIHsKICAgICAgLy8gQHRzLWlnbm9yZQogICAgICB0aGlzW2tleV0gPSBldmFsKGNvZGUpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIElkQ2FyZEZvcm1JdGVtOwp9KENvbXBvbmVudCk7Cgp2YXIgX2RlZmF1bHQgPSBJZENhcmRGb3JtSXRlbTsKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CgppZiAodHlwZW9mIElkQ2FyZEZvcm1JdGVtICE9PSAndW5kZWZpbmVkJyAmJiBJZENhcmRGb3JtSXRlbSAmJiBJZENhcmRGb3JtSXRlbSA9PT0gT2JqZWN0KElkQ2FyZEZvcm1JdGVtKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKElkQ2FyZEZvcm1JdGVtKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZENhcmRGb3JtSXRlbSwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIklkQ2FyZEZvcm1JdGVtIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvZm9ybXMvSWRDYXJkRm9ybUl0ZW0udHN4IgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihJZENhcmRGb3JtSXRlbSwgIklkQ2FyZEZvcm1JdGVtIiwgIi9Vc2Vycy94dWp1bmppZS9Eb2N1bWVudHMvZ2l0L3Byb2plY3RDb21wb25lbnQvc3JjL2Zvcm1zL0lkQ2FyZEZvcm1JdGVtLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMveHVqdW5qaWUvRG9jdW1lbnRzL2dpdC9wcm9qZWN0Q29tcG9uZW50L3NyYy9mb3Jtcy9JZENhcmRGb3JtSXRlbS50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/Users/xujunjie/Documents/git/projectComponent/src/forms/IdCardFormItem.tsx"],"names":["React","Component","FormRegExp","IdCard","require","classnames","IdCardFormItem","getIdCard","type","idCard","IDCARD","HK_IDCARD","TW_IDCARD","onChange","e","target","value","verify","info","onSuccess","props","fromItemProps","className","required","idCardType","style","name","label","emptyMsg","errMsg","message","pattern"],"mappings":";;;;;;;;;;;;;;;;;;;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;AAEA,IAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;IAqCME,c;;;;;;;;;;;;;;;;UACIC,S,GAAY,UAACC,IAAD,EAA8B;AAChD,UAAIC,MAAM,GAAGP,UAAU,CAACQ,MAAxB;;AACA,cAAQF,IAAR;AACE,aAAK,CAAL;AACEC,UAAAA,MAAM,GAAGP,UAAU,CAACQ,MAApB;AACA;;AACF,aAAK,CAAL;AACED,UAAAA,MAAM,GAAGP,UAAU,CAACS,SAApB;AACA;;AACF,aAAK,CAAL;AACEF,UAAAA,MAAM,GAAGP,UAAU,CAACU,SAApB;AACA;;AACF;AACE;AAXJ;;AAaA,aAAOH,MAAP;AACD,K;;UAEOI,Q,GAAW,UAACC,CAAD,EAAmC;AACpD,UAAML,MAAM,GAAGK,CAAC,CAACC,MAAF,CAASC,KAAxB;;AACA,UAAIP,MAAM,IAAIN,MAAM,CAACc,MAAP,CAAcR,MAAd,CAAd,EAAqC;AACnC,YAAMS,IAAI,GAAGf,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAb;AADmC,YAE3BU,SAF2B,GAEb,MAAKC,KAFQ,CAE3BD,SAF2B;;AAGnC,YAAIA,SAAJ,EAAe;AACbA,UAAAA,SAAS,CAACD,IAAD,CAAT;AACD;AACF;AACF,K;;;;;;;6BAE0B;AAAA,wBAWrB,KAAKE,KAXgB;AAAA,UAEvBC,aAFuB,eAEvBA,aAFuB;AAAA,UAGvBC,SAHuB,eAGvBA,SAHuB;AAAA,UAIvBC,QAJuB,eAIvBA,QAJuB;AAAA,UAKvBC,UALuB,eAKvBA,UALuB;AAAA,UAMvBC,KANuB,eAMvBA,KANuB;AAAA,UAOvBC,IAPuB,eAOvBA,IAPuB;AAAA,UAQvBC,KARuB,eAQvBA,KARuB;AAAA,UASvBC,QATuB,eASvBA,QATuB;AAAA,UAUvBC,MAVuB,eAUvBA,MAVuB;AAYzB,0BACE,0BAAM,IAAN;AACE,QAAA,SAAS,EAAExB,UAAU,CAAC,aAAD,EAAgBiB,SAAhB,CADvB;AAEE,QAAA,KAAK,EAAEG;AAFT,SAGM,KAAKL,KAHX,EAIMC,aAJN;AAKE,QAAA,IAAI,EAAEK,IALR;AAME,QAAA,KAAK,EAAEC,KANT;AAOE,QAAA,KAAK,EAAE,CACL;AACEJ,UAAAA,QAAQ,EAARA,QADF;AAEEO,UAAAA,OAAO,EAAEF,QAAQ,IAAI;AAFvB,SADK,EAKL;AACEG,UAAAA,OAAO,EAAE,KAAKxB,SAAL,CAAeiB,UAAf,CADX;AAEEM,UAAAA,OAAO,EAAED,MAAM,IAAI;AAFrB,SALK,CAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAkBE;AAAO,QAAA,QAAQ,EAAE,KAAKhB,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBF,CADF;AAsBD;;;;;;;;;;;EAhE0BZ,S;;eAmEdK,c;AAAf;;;;;;;;;;;;;;;;;;;;;;0BAnEMA,c","sourcesContent":["import { Form, Input } from 'antd';\nimport { FormItemProps } from 'antd/lib/form';\nimport React, { Component, ReactNode } from 'react';\nimport FormRegExp from '../enums/FormRegExp';\nimport IComponentProps from '../interfaces/IComponentProps';\nconst IdCard = require('idcard');\nconst classnames = require('classnames');\n\ninterface IIdCardFormItemProps extends IComponentProps {\n  /**\n   * key值\n   */\n  name: string;\n  /**\n   * 名称\n   */\n  label?: string;\n  /**\n   * 是否必填\n   */\n  required?: boolean;\n  /**\n   * Form.Item属性设置\n   */\n  fromItemProps?: FormItemProps;\n  /**\n   * 身份证校验通过，信息回调\n   */\n  onSuccess?: (values: any) => void;\n  /**\n   * 身份证类型，1.大陆身份证，2.港澳身份证，3.台湾身份证\n   */\n  idCardType?: 1 | 2 | 3;\n  /**\n   * 必填校验错误信息\n   */\n  emptyMsg?: string;\n  /**\n   * 身份证号码格式校验错误信息\n   */\n  errMsg?: string;\n}\n\nclass IdCardFormItem extends Component<IIdCardFormItemProps, any> {\n  private getIdCard = (type: number | undefined) => {\n    let idCard = FormRegExp.IDCARD;\n    switch (type) {\n      case 1:\n        idCard = FormRegExp.IDCARD;\n        break;\n      case 2:\n        idCard = FormRegExp.HK_IDCARD;\n        break;\n      case 3:\n        idCard = FormRegExp.TW_IDCARD;\n        break;\n      default:\n        break;\n    }\n    return idCard;\n  };\n\n  private onChange = (e: { target: { value: any } }) => {\n    const idCard = e.target.value;\n    if (idCard && IdCard.verify(idCard)) {\n      const info = IdCard.info(idCard);\n      const { onSuccess } = this.props;\n      if (onSuccess) {\n        onSuccess(info);\n      }\n    }\n  };\n\n  public render(): ReactNode {\n    const {\n      fromItemProps,\n      className,\n      required,\n      idCardType,\n      style,\n      name,\n      label,\n      emptyMsg,\n      errMsg,\n    } = this.props;\n    return (\n      <Form.Item\n        className={classnames('idCard-from', className)}\n        style={style}\n        {...this.props}\n        {...fromItemProps}\n        name={name}\n        label={label}\n        rules={[\n          {\n            required,\n            message: emptyMsg || '请填写身份证号码',\n          },\n          {\n            pattern: this.getIdCard(idCardType),\n            message: errMsg || '身份证号码格式不正确',\n          },\n        ]}\n      >\n        <Input onChange={this.onChange} />\n      </Form.Item>\n    );\n  }\n}\n\nexport default IdCardFormItem;\n"]}]}